<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" width="800" height="600" viewBox="0 0 800 600">
  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa" />
  
  <!-- ESP8266 D1 Mini -->
  <g transform="translate(350, 200)">
    <rect x="0" y="0" width="120" height="180" rx="5" ry="5" fill="#4285f4" stroke="#333" stroke-width="2" />
    <text x="60" y="30" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="white">ESP8266</text>
    <text x="60" y="50" font-family="Arial" font-size="14" text-anchor="middle" fill="white">D1 Mini</text>
    
    <!-- Pins left side -->
    <g fill="white" font-family="Arial" font-size="12" text-anchor="end">
      <text x="-5" y="80">RST</text>
      <text x="-5" y="100">A0</text>
      <text x="-5" y="120">D0</text>
      <text x="-5" y="140">D5</text>
      <text x="-5" y="160">D6</text>
      <text x="-5" y="180">D7</text>
    </g>
    
    <!-- Pins right side -->
    <g fill="white" font-family="Arial" font-size="12" text-anchor="start">
      <text x="125" y="80">3V3</text>
      <text x="125" y="100">D8</text>
      <text x="125" y="120">D1</text>
      <text x="125" y="140">D2</text>
      <text x="125" y="160">D3</text>
      <text x="125" y="180">D4</text>
    </g>
    
    <!-- Pin marks left side -->
    <g fill="#f8f9fa" stroke="#333" stroke-width="1">
      <circle cx="0" cy="80" r="3" />
      <circle cx="0" cy="100" r="3" />
      <circle cx="0" cy="120" r="3" />
      <circle cx="0" cy="140" r="3" />
      <circle cx="0" cy="160" r="3" />
      <circle cx="0" cy="180" r="3" />
    </g>
    
    <!-- Pin marks right side -->
    <g fill="#f8f9fa" stroke="#333" stroke-width="1">
      <circle cx="120" cy="80" r="3" />
      <circle cx="120" cy="100" r="3" />
      <circle cx="120" cy="120" r="3" />
      <circle cx="120" cy="140" r="3" />
      <circle cx="120" cy="160" r="3" />
      <circle cx="120" cy="180" r="3" />
    </g>
  </g>
  
  <!-- MPU6050 Accelerometer -->
  <g transform="translate(130, 200)">
    <rect x="0" y="0" width="100" height="140" rx="5" ry="5" fill="#0f9d58" stroke="#333" stroke-width="2" />
    <text x="50" y="30" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="white">MPU6050</text>
    
    <!-- Pins -->
    <g fill="white" font-family="Arial" font-size="12" text-anchor="start">
      <text x="10" y="60">VCC</text>
      <text x="10" y="80">GND</text>
      <text x="10" y="100">SCL</text>
      <text x="10" y="120">SDA</text>
      <text x="10" y="140">INT</text>
    </g>
    
    <!-- Pin marks -->
    <g fill="#f8f9fa" stroke="#333" stroke-width="1">
      <circle cx="100" cy="60" r="3" />
      <circle cx="100" cy="80" r="3" />
      <circle cx="100" cy="100" r="3" />
      <circle cx="100" cy="120" r="3" />
      <circle cx="100" cy="140" r="3" />
    </g>
  </g>
  
  <!-- Button -->
  <g transform="translate(600, 220)">
    <circle cx="20" cy="20" r="20" fill="#db4437" stroke="#333" stroke-width="2" />
    <line x1="10" y1="20" x2="30" y2="20" stroke="white" stroke-width="2" />
    <line x1="20" y1="10" x2="20" y2="30" stroke="white" stroke-width="2" />
    <text x="20" y="55" font-family="Arial" font-size="14" text-anchor="middle" fill="#333">Button</text>
  </g>
  
  <!-- LED Strip 1 -->
  <g transform="translate(150, 75)">
    <rect x="0" y="0" width="200" height="30" rx="3" ry="3" fill="#fbbc05" stroke="#333" stroke-width="2" />
    <text x="100" y="20" font-family="Arial" font-size="14" text-anchor="middle" fill="#333">LED Strip 1 (200 LEDs)</text>
  </g>
  
  <!-- LED Strip 2 -->
  <g transform="translate(450, 75)">
    <rect x="0" y="0" width="200" height="30" rx="3" ry="3" fill="#fbbc05" stroke="#333" stroke-width="2" />
    <text x="100" y="20" font-family="Arial" font-size="14" text-anchor="middle" fill="#333">LED Strip 2 (200 LEDs)</text>
  </g>
  
  <!-- Power Module -->
  <g transform="translate(350, 450)">
    <rect x="0" y="0" width="120" height="80" rx="5" ry="5" fill="#34a853" stroke="#333" stroke-width="2" />
    <text x="60" y="30" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="white">5V Buck</text>
    <text x="60" y="50" font-family="Arial" font-size="14" text-anchor="middle" fill="white">Converter</text>
    
    <!-- Pins -->
    <g fill="white" font-family="Arial" font-size="12">
      <text x="20" y="75" text-anchor="middle">IN+</text>
      <text x="100" y="75" text-anchor="middle">OUT+</text>
    </g>
    
    <!-- Pin marks -->
    <g fill="#f8f9fa" stroke="#333" stroke-width="1">
      <circle cx="20" cy="80" r="3" />
      <circle cx="100" cy="80" r="3" />
    </g>
  </g>
  
  <!-- Battery -->
  <g transform="translate(350, 550)">
    <rect x="-50" y="0" width="220" height="40" rx="5" ry="5" fill="#f4b400" stroke="#333" stroke-width="2" />
    <line x1="50" y1="0" x2="50" y2="40" stroke="#333" stroke-width="2" />
    <line x1="70" y1="0" x2="70" y2="40" stroke="#333" stroke-width="2" />
    <text x="60" y="25" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Li-ion Battery Pack</text>
    <text x="0" y="25" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">+</text>
    <text x="120" y="25" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">-</text>
  </g>
  
  <!-- Connection Lines -->
  <g stroke="#666" stroke-width="1.5" fill="none">
    <!-- UPDATED: ESP to LED Strip 1 (D3 pin) -->
    <path d="M 470,360 C 500,360 500,150 500,90" stroke="#ea4335" stroke-width="2" />
    <circle cx="500" cy="90" r="4" fill="#ea4335" />
    <text x="505" y="360" font-family="Arial" font-size="10" fill="#333">D3 (GPIO0)</text>
    
    <!-- UPDATED: ESP to LED Strip 2 (D4 pin) -->
    <path d="M 470,380 C 520,380 520,160 520,90" stroke="#4285f4" stroke-width="2" />
    <circle cx="520" cy="90" r="4" fill="#4285f4" />
    <text x="505" y="380" font-family="Arial" font-size="10" fill="#333">D4 (GPIO2)</text>
    
    <!-- ESP to Button (D6 pin) -->
    <path d="M 350,360 C 250,360 230,240 200,240" stroke="#fbbc05" stroke-width="2" />
    <circle cx="200" cy="240" r="4" fill="#fbbc05" />
    <text x="260" y="360" font-family="Arial" font-size="10" fill="#333">D6 (GPIO12)</text>
    
    <!-- UPDATED: ESP to MPU6050 SCL (D1) -->
    <path d="M 470,320 C 500,320 520,300 600,300" stroke="#34a853" stroke-width="2" />
    <circle cx="600" cy="300" r="4" fill="#34a853" />
    <text x="505" y="320" font-family="Arial" font-size="10" fill="#333">D1 (SCL)</text>
    
    <!-- UPDATED: ESP to MPU6050 SDA (D2) -->
    <path d="M 470,340 C 500,340 520,320 600,320" stroke="#4285f4" stroke-width="2" />
    <circle cx="600" cy="320" r="4" fill="#4285f4" />
    <text x="505" y="340" font-family="Arial" font-size="10" fill="#333">D2 (SDA)</text>
    
    <!-- Power connections -->
    <path d="M 470,280 C 550,280 550,450 470,450" stroke="red" stroke-width="2" />
    <path d="M 350,280 C 250,280 250,450 350,450" stroke="blue" stroke-width="2" />
    
    <!-- Battery to Buck Converter -->
    <path d="M 370,550 C 370,520 370,530 370,530" stroke="red" stroke-width="2" />
    <path d="M 450,530 C 450,530 450,520 450,550" stroke="blue" stroke-width="2" />
  </g>
  
  <!-- Labels for Power Lines -->
  <g font-family="Arial" font-size="12" fill="#333">
    <text x="540" y="280" text-anchor="middle">5V</text>
    <text x="260" y="280" text-anchor="middle">GND</text>
  </g>
  
  <!-- Title -->
  <text x="400" y="30" font-family="Arial" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">Bo Staff Wiring Diagram (Corrected)</text>
  
  <!-- Notes -->
  <g transform="translate(550, 420)">
    <rect x="0" y="0" width="220" height="150" fill="#fff" stroke="#ccc" stroke-width="1" />
    <text x="10" y="20" font-family="Arial" font-size="14" font-weight="bold" fill="#333">Pin Assignment Notes:</text>
    <text x="10" y="45" font-family="Arial" font-size="12" fill="#333">• I2C for MPU6050:</text>
    <text x="20" y="65" font-family="Arial" font-size="12" fill="#333">D1 (GPIO5): SCL</text>
    <text x="20" y="85" font-family="Arial" font-size="12" fill="#333">D2 (GPIO4): SDA</text>
    <text x="10" y="110" font-family="Arial" font-size="12" fill="#333">• LED Data pins:</text>
    <text x="20" y="130" font-family="Arial" font-size="12" fill="#333">D3 (GPIO0): Strip 1</text>
    <text x="20" y="150" font-family="Arial" font-size="12" fill="#333">D4 (GPIO2): Strip 2</text>
  </g>
</svg>